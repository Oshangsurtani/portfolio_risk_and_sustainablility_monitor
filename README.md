# 📊 Portfolio Risk & Sustainability Monitor

**Live dashboard (Python · FastAPI · Dash) tracking VaR, ESG scores, and Smart‑Beta factor exposure for 200 + equities — deployed on AWS ECS Fargate (multi‑AZ) with ~99.9 % uptime.**

---

## 🚀 Features

| Category             | Details                                                                                  |
|----------------------|------------------------------------------------------------------------------------------|
| **Risk**             | Historic Value‑at‑Risk (VaR) at configurable confidence levels (default 95 %).           |
| **ESG**              | Composite Environmental / Social / Governance score (pluggable for real data feeds).      |
| **Smart‑Beta**       | Size, Value, Quality, Momentum factor returns refreshed daily via Celery.                |
| **Interactive UI**   | Dash dashboard: ticker input, price chart, VaR readout, factor tilts, ESG display.       |
| **Scalable Cloud**   | Docker images built in CI, pushed to ECR, deployed to ECS Fargate behind an ALB.         |

---

## 🗂️ Project Structure

portfolio-monitor/
├── app/
│ ├── api.py # FastAPI routes (/risk, /factors, /esg)
│ ├── models.py # Pydantic schemas
│ ├── risk.py # VaR & volatility helpers
│ ├── esg.py # ESG composite scorer
│ ├── factors.py # Smart‑Beta factor loader
│ └── db.py # SQLAlchemy / Postgres helper
├── dashboard/
│ └── app.py # Dash front‑end
├── tasks/
│ ├── celeryconfig.py # Redis broker / backend
│ └── tasks.py # Periodic Celery jobs
├── Dockerfile # Multi‑stage build (API + Dash)
├── docker-compose.yml # Local stack (Postgres, Redis, API, Dash, Worker)
├── requirements.txt
└── README.md # ← you are here

yaml
Copy
Edit

---

## ⚙️ Tech Stack

- **Python 3.11** · **FastAPI** · **Dash (Plotly)**
- **PostgreSQL** for price & factor storage
- **Redis + Celery** for scheduling
- **Docker / docker‑compose** for dev
- **GitHub Actions → AWS ECS Fargate** (multi‑AZ, ALB) for prod

---

## 🛠️ Local Development

```bash
# 1. Clone
git clone <your‑repo‑url>
cd portfolio-monitor

# 2. Launch complete stack
docker-compose up --build          # first run ~30 s

# 3. Open UI / API
# - Dash dashboard: http://localhost:8050
# - FastAPI docs :  http://localhost:8000/docs
🛰️ Production Deployment (CI/CD)
Push → GitHub Actions builds Docker image, pushes to AWS ECR.

ECS Deploy → Task definition updated & rolling deployment triggers.

ALB routes traffic to multi‑AZ Fargate tasks → ~99.9 % SLA.
CloudWatch alarms + auto‑scaling policies included.

🔗 API Endpoints
Method	Path	Description	Example
POST	/risk	JSON { "ticker": "AAPL" } → VaR 95 %	curl -X POST http://<host>/risk -H "Content-Type: application/json" -d '{"ticker":"AAPL"}'
GET	/factors	Latest Smart‑Beta daily returns (dict)	curl http://<host>/factors
GET	/docs	Swagger UI autogenerated by FastAPI	browser

🔄 Extending
Real ESG feeds: integrate MSCI / Refinitiv data (swap esg.py).

Monte‑Carlo VaR or Cornish‑Fisher expansions in risk.py.

Auth: add FastAPI Users or AWS Cognito & JWT protection.

Advanced Data: replace Yahoo Finance with Polygon.io, IEX Cloud.

Front‑end: migrate Dash to React + Plotly for richer UX.

📝 License
This project is released under the MIT License — see LICENSE for details.

Demo (Netlify build auto‑generated UI)
https://superlative-phoenix-d04930.netlify.app
Claim & transfer via Netlify: https://app.netlify.com/claim#<token>

Copy
Edit
