# 📊 Portfolio Risk & Sustainability Monitor

**Live dashboard (Python · FastAPI · Dash) tracking VaR, ESG scores, and Smart‑Beta factor exposure for 200 + equities — deployed on AWS ECS Fargate (multi‑AZ) with ~99.9 % uptime.**

---

## 🚀 Features

| Category             | Details                                                                                  |
|----------------------|------------------------------------------------------------------------------------------|
| **Risk**             | Historic Value‑at‑Risk (VaR) at configurable confidence levels (default 95 %).           |
| **ESG**              | Composite Environmental / Social / Governance score (pluggable for real data feeds).      |
| **Smart‑Beta**       | Size, Value, Quality, Momentum factor returns refreshed daily via Celery.                |
| **Interactive UI**   | Dash dashboard: ticker input, price chart, VaR readout, factor tilts, ESG display.       |
| **Scalable Cloud**   | Docker images built in CI, pushed to ECR, deployed to ECS Fargate behind an ALB.         |

---

## 🗂️ Project Structure

├── app/
│ ├── api.py # FastAPI routes (/risk, /factors, /esg)
│ ├── models.py # Pydantic schemas
│ ├── risk.py # VaR & volatility helpers
│ ├── esg.py # ESG composite scorer
│ ├── factors.py # Smart‑Beta factor loader
│ └── db.py # SQLAlchemy / Postgres helper
├── dashboard/
│ └── app.py # Dash front‑end
├── tasks/
│ ├── celeryconfig.py # Redis broker / backend
│ └── tasks.py # Periodic Celery jobs
├── Dockerfile # Multi‑stage build (API + Dash)
├── docker-compose.yml # Local stack (PG, Redis, API, Dash, Worker)
├── requirements.txt
└── README.md # ← you are here


---

## ⚙️ Tech Stack

* **Python 3.11** · **FastAPI** · **Dash (Plotly)**
* **PostgreSQL** — time‑series + factor storage  
* **Redis + Celery** — background & periodic jobs  
* **Docker / docker‑compose** — local dev  
* **GitHub Actions → AWS ECS Fargate** (multi‑AZ, ALB) — production

---

## 🛠️ Local Development

# 1 · Clone
git clone https://github.com/<your‑username>/portfolio-monitor.git
cd portfolio-monitor

# 2 · Launch complete stack (first run ≈30 s)
docker-compose up --build

# 3 · Browse
#   Dash dashboard → http://localhost:8050
#   FastAPI docs    → http://localhost:8000/docs


🛰️ Production Deployment (CI/CD)
Push ➜ GitHub Actions builds & pushes images to AWS ECR

ECS Deploy ➜ Task definition updated, rolling deploy triggered

ALB routes traffic to multi‑AZ Fargate tasks for ~99.9 % SLA

CloudWatch alarms + auto‑scaling policies included

🔗 API Endpoints
Method	Path	Description	Example
POST	/risk	{ "ticker": "AAPL" } → VaR 95 % response	curl -X POST http://api/risk -H "Content-Type: application/json" -d '{"ticker":"AAPL"}'
GET	/factors	Latest Smart‑Beta factor returns (JSON)	curl http://api/factors
GET	/docs	Swagger UI autogenerated by FastAPI	open in browser

🔄 Extending
Real ESG feeds → integrate MSCI / Refinitiv (swap esg.py)

Advanced VaR → Monte‑Carlo or Cornish‑Fisher in risk.py

Auth → FastAPI Users or AWS Cognito (JWT)

Data → Replace Yahoo Finance with Polygon.io / IEX Cloud

Front‑end → migrate Dash → React + Plotly for richer UX

📝 License
Released under the MIT License — see LICENSE.

🌐 Demo
Netlify preview: https://superlative-phoenix-d04930.netlify.app
Claim & transfer: https://app.netlify.com/claim#&lt;token&gt;

